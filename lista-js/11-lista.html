<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Teste de Eventos</title>
  <style>
    body { font-family: Arial, sans-serif; padding:20px; }
    #status {
      position: fixed;
      right: 16px;
      top: 16px;
      padding: 6px 10px;
      border-radius: 6px;
      background: #eee;
      box-shadow: 0 2px 6px rgba(0,0,0,.12);
      font-size:14px;
    }
    #status.ok { background: #d4ffd4; border: 1px solid #6fc36f; color: #064b06; }
    #status.error { background: #ffd6d6; border: 1px solid #d04b4b; color: #550000; }
    #hoverDiv { padding:20px; border:1px dashed #aaa; width:200px; margin-top:10px; }
  </style>
</head>
<body>
  <!-- seu body original (não alterei conteúdo) -->
  <button id="alertButton">Clique aqui</button>
  <input type="text" id="textInput" placeholder="Digite algo">
  <div id="hoverDiv">Passe o mouse aqui</div>
  <select id="colorSelect">
    <option value="">Escolha uma cor</option>
    <option value="blue">Azul</option>
    <option value="green">Verde</option>
    <option value="red">Vermelho</option>
  </select>

  <!-- badge de status (visível para confirmar que o JS rodou) -->
  <div id="status">Aguardando JS...</div>

  <script>
  // Código robusto de inicialização e debug
  (function () {
    const status = document.getElementById('status');

    function setStatusOk(msg) {
      status.textContent = msg || 'JS rodando ✅';
      status.className = 'ok';
    }
    function setStatusError(msg) {
      status.textContent = msg || 'Erro no JS ❌';
      status.className = 'error';
    }

    window.addEventListener('DOMContentLoaded', function () {
      try {
        console.log('DOM carregado — iniciando listeners');

        // a) botão alerta
        const alertButton = document.getElementById('alertButton');
        if (alertButton) {
          alertButton.addEventListener('click', function () {
            alert('Você clicou no botão!');
          });
        } else {
          console.warn('alertButton não encontrado');
        }

        // b, c, d) input de texto
        const textInput = document.getElementById('textInput');
        if (textInput) {
          // b) keydown -> mostra cada tecla
          textInput.addEventListener('keydown', function (event) {
            console.log('Tecla pressionada:', event.key);
          });

          // c) focus -> fundo amarelo
          textInput.addEventListener('focus', function () {
            textInput.dataset.oldBg = textInput.style.backgroundColor || '';
            textInput.style.backgroundColor = 'yellow';
          });

          // d) blur -> restaura
          textInput.addEventListener('blur', function () {
            textInput.style.backgroundColor = textInput.dataset.oldBg || '';
          });
        } else {
          console.warn('textInput não encontrado');
        }

        // e, f) hover na div
        const hoverDiv = document.getElementById('hoverDiv');
        if (hoverDiv) {
          hoverDiv.style.transition = 'background-color 0.18s';
          hoverDiv.addEventListener('mouseenter', function () {
            hoverDiv.dataset.oldBg = hoverDiv.style.backgroundColor || '';
            hoverDiv.style.backgroundColor = 'lightblue';
          });
          hoverDiv.addEventListener('mouseleave', function () {
            hoverDiv.style.backgroundColor = hoverDiv.dataset.oldBg || '';
          });
        } else {
          console.warn('hoverDiv não encontrado');
        }

        // g) select muda cor de fundo da página
        const colorSelect = document.getElementById('colorSelect');
        if (colorSelect) {
          colorSelect.addEventListener('change', function () {
            const val = colorSelect.value;
            document.body.style.backgroundColor = val || '';
            console.log('background alterado para:', val || 'padrão');
          });
        } else {
          console.warn('colorSelect não encontrado');
        }

        console.log('Event listeners adicionados com sucesso');
        setStatusOk('JS rodando');
      } catch (err) {
        console.error('Erro no script:', err);
        setStatusError('Erro no JS ');
      }
    });
  })();
  </script>
</body>
</html>
